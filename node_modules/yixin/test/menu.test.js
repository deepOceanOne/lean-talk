/**
 * Created by fuzesun on 14-5-15.
 */
var Yixin = require('../');
var Menu = Yixin.Menu;
var should = require('should');

var menuData1 = {
  "name" : "在线客服",
  "type" : "click",
  "key" : "/dt2/chat"
};

var subMenuData1 = {
  "key" : "/dt2/chat.yx",
  "name" : "人工服务",
  "type" : "click"
};


describe('menu.js', function() {
  describe('# addButton', function() {
    var menu1;
    before(function() {
      menu1 = new Menu();
    });
    it('should ok', function() {
      menu1.addButton(menuData1);
      menu1.JSON().should.eql({button: [menuData1]});
    });
  });
  describe('#addSubButton', function() {
    var menu2;
    before(function() {
      menu2 = new Menu();
    });
    it('should ok', function() {
      menu2
        .addButton(menuData1)
        .addButton({name:'button2'})
        .addSubButton(subMenuData1);
      menu2.JSON().should.eql({button:[menuData1, {name: 'button2', sub_button:[subMenuData1]}]});
    });
  });
});